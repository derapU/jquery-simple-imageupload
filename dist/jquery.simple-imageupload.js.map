{"version":3,"sources":["../src/js/jquery.simple-imageupload.js"],"names":[],"mappings":"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","file":"jquery.simple-imageupload.js","sourcesContent":["( function ( $ ) {\n\t\"use strict\";\n\n\tvar SimpleImageupload;\n\n\t$.fn.simple_imageupload = function ( opts ) {\n\t\treturn this.each( function () {\n\t\t\tthis.simple_imageupload = new SimpleImageupload( $( this ), opts );\n\t\t} );\n\t};\n\n\tSimpleImageupload = function ( $input, opts ) {\n\t\tthis.init( $input, opts );\n\t};\n\tSimpleImageupload.prototype = {\n\t\tdefault_opts: {\n\t\t\tplaceholder: 'Click to choose image'\n\t\t},\n\t\topts: null,\n\n\t\t$container: null,\n\t\t$preview: null,\n\t\t$input: null,\n\n\t\tinit: function ( $input, opts ) {\n\t\t\t// configure and save the original field\n\t\t\tthis.opts   = $.extend( {}, this.default_opts, opts );\n\t\t\tthis.$input = $input;\n\n\t\t\t// create elements\n\t\t\tthis.create_container();\n\t\t\tthis.create_preview();\n\n\n\t\t\t// insert container and put input-field inside\n\t\t\tthis.$input.before( this.$container );\n\t\t\tthis.$container\n\t\t\t\t.append( this.$input )\n\t\t\t\t.append( this.$preview );\n\n\t\t\t// bind events\n\t\t\tthis.bind_events();\n\n\t\t},\n\n\t\tupdate_preview: function () {\n\t\t\tvar $reader,\n\t\t\t\t$preview = this.$preview;\n\n\t\t\tif ( undefined === FileReader ) {\n\t\t\t\t// TODO\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// create filereader\n\t\t\t$reader = $( new FileReader() ).on( 'load', function ( e ) {\n\t\t\t\t$preview\n\t\t\t\t\t.css( 'background-image', 'url(\"' + e.target.result + '\")' )\n\t\t\t\t\t.removeClass( 'simple-imageupload-empty' );\n\t\t\t} );\n\n\t\t\tif ( this.$input.prop( 'files' ).length === 0 ) {\n\t\t\t\t// remove the preview\n\t\t\t\t$preview\n\t\t\t\t\t.css( 'background-image', '' )\n\t\t\t\t\t.addClass( 'simple-imageupload-empty' );\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// we support only a single file per input-field by now\n\t\t\t\t$reader[0].readAsDataURL( this.$input.prop( 'files' )[0] );\n\t\t\t}\n\n\t\t},\n\n\t\tcreate_container: function () {\n\t\t\tthis.$container = $( '<div class=\"simple-imageupload-container\"></div>' );\n\t\t\tthis.$container.clonecss( this.$input, [\n\t\t\t\t'background-color',\n\t\t\t\t'float',\n\t\t\t\t'margin-top',\n\t\t\t\t'margin-bottom',\n\t\t\t\t'margin-left',\n\t\t\t\t'margin-right',\n\t\t\t\t'position',\n\t\t\t\t'top',\n\t\t\t\t'bottom',\n\t\t\t\t'left',\n\t\t\t\t'right',\n\t\t\t\t'height',\n\t\t\t\t'width'\n\t\t\t] );\n\t\t},\n\t\tcreate_preview: function () {\n\t\t\tthis.$preview = $( '<div class=\"simple-imageupload-preview simple-imageupload-empty\">' )\n\t\t\t\t.attr( 'data-placeholder', this.opts.placeholder );\n\t\t},\n\n\t\tbind_events: function () {\n\t\t\tvar self = this;\n\n\t\t\tthis.$preview.on( 'click', function () {\n\t\t\t\tself.$input.trigger( 'click' );\n\t\t\t} );\n\n\t\t\tthis.$input.on( 'change', function () {\n\t\t\t\tself.update_preview();\n\t\t\t} );\n\t\t}\n\t};\n} ( jQuery ) );"]}